import{_ as x,r as m,o as n,c,d as f,i as g,p as v,e as C,b as t,g as k,m as $,F as w,h as T,t as a,q as u,k as V,v as P,w as d,n as I,l as S}from"./index-6e8b2262.js";import{u as h}from"./cart-de8cbb27.js";const A={},y=e=>(v("data-v-4e567951"),e=e(),C(),e),E={class:"d-flex justify-content-end mt-5"},R=y(()=>t("span",null,"填寫資料",-1)),j=y(()=>t("div",{class:"liquid"},null,-1));function q(e,l){const i=m("RouterLink");return n(),c("div",E,[f(i,{to:"/form"},{default:g(()=>[R,j]),_:1})])}const F=x(A,[["render",q],["__scopeId","data-v-4e567951"]]);const{VITE_APP_URL:L,VITE_APP_PATH:D}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"brad5566",BASE_URL:"/shrimpMap/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},N={data(){return{coupon_code:""}},components:{CartToForm:F},computed:{...k(h,["cart"])},methods:{...$(h,["adjustmentTicket","getCarts","removeCart","updateCartNum"]),addCouponCode(){const e={code:this.coupon_code};this.$http({method:"post",url:`${L}api/${D}/coupon`,data:{data:e}}).then(l=>{alert("加入優惠券"),this.getCarts()})}},mounted(){this.getCarts()}},o=e=>(v("data-v-4418e1f7"),e=e(),C(),e),U={key:0,class:"container"},B={class:"table bg-white caption-top"},M=o(()=>t("caption",{class:"ms-5 text-white h2"},"購物車",-1)),z=o(()=>t("thead",null,[t("tr",{class:"bg-title h4"},[t("th",{class:"ps-xl-5 text-center text-xl-start",scope:"col"},"店家"),t("th",{class:"ps-xl-4 text-center text-xl-start",scope:"col"},"數量"),t("th",{class:"text-center text-xl-end pe-xl-5",scope:"col"},"金額")])],-1)),H={class:"text-end",scope:"row"},O={class:"d-xl-flex flex-xl-row justify-content-xl-start d-flex flex-column align-items-end ms-xl-5"},G=["src"],J={class:"text-end text-xl-start ms-2"},K={class:"h6 mt-1"},Q=["onClick"],W={class:"align-middle"},X=["onClick"],Y=o(()=>t("i",{class:"bi bi-dash-lg"},null,-1)),Z=[Y],tt=["value"],et=o(()=>t("span",{class:"h6 text-center input-size ps-xl-3"},null,-1)),st=["onClick"],ot=o(()=>t("i",{class:"bi bi-plus-lg"},null,-1)),nt=[ot],ct={class:"text-xl-end text-center align-middle pe-xl-5 h4"},lt={key:0,class:"text-end h6 mt-2 text-success"},at=o(()=>t("td",{colspan:"2",class:"text-end h5"},"總計",-1)),dt={class:"text-xl-end text-center px-xl-5 h5"},it={key:0},rt=o(()=>t("td",{colspan:"2",class:"text-end h5 text-success"},"折價後",-1)),_t={class:"text-xl-end text-center px-xl-5 h5"},pt={class:"input-group mb-3 input-group-sm col-xl-6 col-12 ps-xl-0 ps-5 m-auto"},ut={class:"input-group-append"},ht={key:1,class:"d-flex justify-content-center align-items-center"},xt=o(()=>t("h2",{class:"text-white py-10"},"目前購物車是空的",-1)),mt=[xt];function ft(e,l,i,vt,r,_){const b=m("CartToForm");return e.cart.carts&&e.cart.carts.length>0?(n(),c("div",U,[t("table",B,[M,z,t("tbody",null,[(n(!0),c(w,null,T(e.cart.carts,s=>(n(),c("tr",{key:s.id},[t("th",H,[t("div",O,[t("img",{class:"d-block",src:s.product.imageUrl,alt:"",style:{width:"80px"}},null,8,G),t("div",J,[t("p",K,a(s.product.title),1),t("button",{onClick:d(p=>e.removeCart(s.id),["prevent"]),class:"btn btn-sm btn-danger mt-2",type:"button"},"移除",8,Q)])])]),t("td",W,[t("a",{onClick:d(p=>e.adjustmentTicket("-",s.id,s.qty,s.product.id),["prevent"]),class:I([{"mouse-disabled":s.qty==1},"d-inline-block px-xl-3 px-2"]),href:"#"},Z,10,X),t("input",{value:s.qty,type:"number",class:"h6 text-center input-size ps-xl-3",disabled:""},null,8,tt),et,t("a",{onClick:d(p=>e.adjustmentTicket("+",s.id,s.qty,s.product.id),["prevent"]),class:"d-inline-block px-xl-3 px-2",href:"#"},nt,8,st)]),t("td",ct,[S(" $"+a(e.$filters.currency(s.final_total))+" ",1),s.coupon?(n(),c("div",lt,"套用優惠券")):u("",!0)])]))),128))]),t("tfoot",null,[t("tr",null,[at,t("td",dt,"$ "+a(e.$filters.currency(e.cart.total)),1)]),e.cart.final_total!==e.cart.total?(n(),c("tr",it,[rt,t("td",_t,"$ "+a(e.$filters.currency(e.cart.final_total)),1)])):u("",!0)])]),t("div",pt,[V(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=s=>r.coupon_code=s),placeholder:"請輸入優惠碼"},null,512),[[P,r.coupon_code]]),t("div",ut,[t("button",{class:"btn btn-outline-secondary text-white",type:"button",onClick:l[1]||(l[1]=(...s)=>_.addCouponCode&&_.addCouponCode(...s))}," 套用優惠碼 ")])]),f(b)])):(n(),c("div",ht,mt))}const bt=x(N,[["render",ft],["__scopeId","data-v-4418e1f7"]]);export{bt as default};
